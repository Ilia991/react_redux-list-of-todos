(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n,a=c(8),s=c.n(a),r=c(4),l=c(17),i=c(7),o=c(14),d=c(15),u=c(18),j=function(e){return{type:"allTodos/SET",arr:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"allTodos/SET":return Object(u.a)(t.arr);case"allTodos/REMOVE":return[];default:return e}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"filter/ALL",payload:{todos:e,query:t}}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"filter/ACTIVE",payload:{todos:e,query:t}}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"filter/COMPLETED",payload:{todos:e,query:t}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/ALL":return t.payload.todos.filter((function(e){return e.title.includes(t.payload.query)}));case"filter/ACTIVE":return t.payload.todos.filter((function(e){return!1===e.completed&&e.title.includes(t.payload.query)}));case"filter/COMPLETED":return t.payload.todos.filter((function(e){return!0===e.completed&&e.title.includes(t.payload.query)}));default:return e}},x=function(e){return{type:"todo/ADD",arr:e}},p=function(){return{type:"todo/REMOVE"}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todo/ADD":return t.arr;case"todo/REMOVE":return null;default:return e}},y=Object(i.combineReducers)({activeTodo:v,filter:m,allTodos:b}),N=Object(i.createStore)(y,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),g=c(16),E=c(3),T=c(11),A=c.n(T),C=c(0),k=(c(27),c(28),c(12)),L=c.n(k),w=(r.b,r.c),D=c(1),S=function(){var e=w((function(e){return e.activeTodo})),t=w((function(e){return e.filter})),c=Object(r.b)();return Object(D.jsxs)(D.Fragment,{children:[!t&&Object(D.jsx)("p",{className:"notification is-warning",children:"There are no todos matching current filter criteria"}),Object(D.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"#"}),Object(D.jsx)("th",{children:Object(D.jsx)("span",{className:"icon",children:Object(D.jsx)("i",{className:"fas fa-check"})})}),Object(D.jsx)("th",{children:"Title"}),Object(D.jsx)("th",{children:" "})]})}),Object(D.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(t){return Object(D.jsxs)("tr",{"data-cy":"todo",children:[Object(D.jsx)("td",{className:"is-vcentered",children:t.id}),Object(D.jsx)("td",{className:"is-vcentered",children:t.completed&&Object(D.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(D.jsx)("i",{className:"fas fa-check"})})}),Object(D.jsx)("td",{className:"is-vcentered is-expanded",children:Object(D.jsx)("p",{className:L()({"has-text-danger":!t.completed},{"has-text-success":t.completed}),children:t.title})}),Object(D.jsx)("td",{className:"has-text-right is-vcentered",children:Object(D.jsx)("button",{onClick:function(){return function(e){c(x(e))}(t)},"data-cy":"selectButton",className:"button",type:"button",children:Object(D.jsx)("span",{className:"icon",children:Object(D.jsx)("i",{className:L()("far",{"fa-eye":t!==e},{"fa-eye-slash":t===e})})})})})]},t.id)}))})]})]})};!function(e){e.ALL="All",e.ACTIVE="Active",e.COMPLETED="Completed"}(n||(n={}));var M=function(){var e=Object(C.useState)("All"),t=Object(E.a)(e,2),c=t[0],a=t[1],s=Object(C.useState)(""),l=Object(E.a)(s,2),i=l[0],o=l[1],d=Object(r.b)(),u=w((function(e){return e.allTodos}));Object(C.useEffect)((function(){!function(){switch(c){case n.ALL:d(h(u,i));break;case n.ACTIVE:d(O(u,i));break;case n.COMPLETED:d(f(u,i));break;default:d(h(u,i))}}()}),[c,i,d,u]);return Object(D.jsxs)("form",{className:"field has-addons",onSubmit:function(e){return e.preventDefault()},children:[Object(D.jsx)("p",{className:"control",children:Object(D.jsx)("span",{className:"select",children:Object(D.jsxs)("select",{"data-cy":"statusSelect",value:c,onChange:function(e){a(e.target.value)},children:[Object(D.jsx)("option",{value:"All",children:"All"}),Object(D.jsx)("option",{value:"Active",children:"Active"}),Object(D.jsx)("option",{value:"Completed",children:"Completed"})]})})}),Object(D.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(D.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:i,onChange:function(e){return o(e.target.value)}}),Object(D.jsx)("span",{className:"icon is-left",children:Object(D.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(D.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:i&&Object(D.jsx)("button",{"data-cy":"clearSearchButton",type:"button",className:"delete","aria-label":"btnDelete",onClick:function(){return o("")}})})]})]})},I=(c(30),function(){return Object(D.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(D.jsx)("div",{className:"Loader__content"})})});function V(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){return e.json()}))}var q=function(){var e=Object(r.b)(),t=w((function(e){return e.activeTodo})),c=Object(C.useState)(),n=Object(E.a)(c,2),a=n[0],s=n[1];Object(C.useEffect)((function(){var e;t&&(e=t.userId,V("/users/".concat(e))).then((function(e){return s(e)}))}),[]);return Object(D.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(D.jsx)("div",{className:"modal-background"}),!a&&Object(D.jsx)(I,{}),a&&Object(D.jsxs)("div",{className:"modal-card",children:[Object(D.jsxs)("header",{className:"modal-card-head",children:[Object(D.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(D.jsx)("button",{onClick:function(){e(p())},type:"button",className:"delete","data-cy":"modal-close"})]}),Object(D.jsxs)("div",{className:"modal-card-body",children:[Object(D.jsx)("p",{className:"block","data-cy":"modal-title",children:null===t||void 0===t?void 0:t.title}),Object(D.jsxs)("p",{className:"block","data-cy":"modal-user",children:[null!==t&&void 0!==t&&t.completed?Object(D.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(D.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(D.jsx)("a",{href:"mailto:".concat(a.email),children:"Leanne Graham"})]})]})]})]})},P=function(){var e=Object(r.b)(),t=Object(C.useState)(!1),c=Object(E.a)(t,2),n=c[0],a=c[1],s=w((function(e){return e.activeTodo})),l=function(){var t=Object(g.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,V("/todos").then((function(t){return e(j(t))}));case 3:a(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.useEffect)((function(){l()}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"section",children:Object(D.jsx)("div",{className:"container",children:Object(D.jsxs)("div",{className:"box",children:[Object(D.jsx)("h1",{className:"title",children:"Todos:"}),Object(D.jsx)("div",{className:"block",children:Object(D.jsx)(M,{})}),Object(D.jsx)("div",{className:"block",children:n?Object(D.jsx)(I,{}):Object(D.jsx)(S,{})})]})})}),s&&Object(D.jsx)(q,{})]})},_=function(){return Object(D.jsx)(r.a,{store:N,children:Object(D.jsx)(l.a,{children:Object(D.jsx)(P,{})})})};s.a.render(Object(D.jsx)(_,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.a644aca6.chunk.js.map